<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Task Setting</title>
    <link rel="stylesheet" th:href="@{/css/settingview.css}" href="../static/css/settingview.css" />
</head>
<body>

<div th:replace="overview :: bar"></div>

<div th:replace="overview :: heading"></div>

	
<div id="board" class="box">
    <H1>Task Setting</H1>
    <div th:text="'Task owner: '+ ${task.owner}"></div>
	<div th:text="'Task name: '+ ${task.name}"></div>
	<div th:text="'Task Description: '+ ${task.description}"></div>

	<div th:text="'Task Date: '+ ${task.dueDate}" ></div>
	
    <form class="settingForm" action="#" th:action="@{/taskchange}" th:object="${setTaskForm}" method="post">

		<input type="hidden" name="taskId" th:value ="${task.id.id}"/>
		<input type="hidden" name="projectId" th:value="${project.id.id}"/>
		<p>
				New Task name: <input id="taskName" type="text"
					th:field="*{taskName}" /> <b
					th:if="${#fields.hasErrors('taskName')}"
					th:errors="*{taskName}">Task name error</b>
		</p>
		<p>
			New Task Assignee: <input id="owner" type="text"
				th:field="*{owner}" /> <b
				th:if="${#fields.hasErrors('owner')}" th:errors="*{owner}">Member
				error</b>
		</p>
		<p>
			New Task Due Date: <input id="dueDate" type="text"
				th:field="*{dueDate}" /> <b
				th:if="${#fields.hasErrors('dueDate')}" th:errors="*{dueDate}">Due Date
				error</b>
		</p>
			<p>
				New Description: <input id="description" type="text"
					th:field="*{taskDescription}" />
			</p>		
		
        <!--<p>Due Date: <input id="duedate" type="text" th:field="${task.dueDate}"/></p>-->
        <!--There is an error on Date-->
        
        
        <p>
            <button name="action" type="submit" value="submit">Submit</button>
            <!--<button name="action" type="reset" value="reset">Reset</button>-->
            <!--<button name="action" type="submit" value="cancel">Cancel</button>-->
        </p>
    </form>
    
    
			<form action="#" th:action="@{/kanbanboard}" method="get">
				<button name="action" type="submit" value="submit">Cancel</button>
				<input type="hidden" name="projectId" th:value="${task.projectId.id}"/>
			</form>
    
</div>

<div th:replace="overview :: footer"></div>
    
<script th:inline="javascript">
<!-- show notifications on mouse over to icon -->
function showNotification(e) {
	
	var notification = document.getElementById("notification");
	
	var size = document.getElementById("board").clientWidth;
	var x = e.clientX - 150 - (size*1.125);
	var y = e.clientY - 150;	
	notification.style.left = x + "px";
	notification.style.top = y + "px";  
	
	if (notification.style.display == "none") {		
		notification.style.display = "block";
	}
}
function closeNotification() {
	document.getElementById("notification").style.display = "none";
}
</script>  

</body>
</html>